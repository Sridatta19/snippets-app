import { SnippetLayout } from '@/components/SnippetLayout'

export const meta = {
  date: '2022-03-07',
  title: "#5 Use 'extends' keyword to narrow the value of a generic",
  topic: 'typescript',
  group: 'tips',
  tags: ['tricks'],
  description:
    'When we released the first version of cosmOS last year, it was written in Go. Go is a wonderful programming language, but it’s been a while since I’ve seen an article on the front page of Hacker News about rewriting some important tool in Go and I see articles on there about rewriting things in Rust every single week.',
}

export default (props) => <SnippetLayout meta={meta} {...props} />

The 'extends' keyword is very powerful in TypeScript. Here, I use it to narrow the value of a generic to enable some beautiful autocomplete/inference.

<a
  href="https://twitter.com/mattpocockuk/status/1500813765973053440"
  target="_blank"
>
  Original Link
</a>

```ts
export const getDeepValue = <
  Obj,
  FirstKey extends keyof Obj,
  SecondKey extends keyof Obj[FirstKey]
>(
  obj: Obj,
  firstKey: FirstKey,
  secondKey: SecondKey
) => {
  return {} as any
}

const obj = {
  foo: {
    a: true,
    b: 2,
  },
  bar: {
    c: 'cool',
    d: 2,
  },
}

const result = getDeepValue(obj, 'foo', 'a')
```
